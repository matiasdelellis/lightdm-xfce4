dnl Process this file with autoconf to produce a configure script.

AC_INIT(lightdm-xfce4-greeter, 1.1.5)
AC_CONFIG_MACRO_DIR(m4)
AC_CONFIG_HEADER(config.h)
AM_INIT_AUTOMAKE
LT_INIT
AM_PROG_CC_C_O
AM_MAINTAINER_MODE
m4_ifdef([AM_SILENT_RULES], [AM_SILENT_RULES(yes)])

GOBJECT_INTROSPECTION_CHECK(0.9.5)
 
dnl ###########################################################################
dnl Dependencies
dnl ###########################################################################

AC_ARG_WITH([gtk3],
            [AS_HELP_STRING([--with-gtk3],
            [enable experimental support for gtk3])],
            [GTK_VER="gtk+-3.0"],[GTK_VER="gtk+-2.0"])

PKG_CHECK_MODULES(GREETER, [
    $GTK_VER
    x11
    liblightdm-gobject-1
    gmodule-export-2.0
])

dnl ###########################################################################
dnl Internationalization
dnl ###########################################################################

IT_PROG_INTLTOOL(0.35.0)
AC_SUBST(GETTEXT_PACKAGE, lightdm-xfce4-greeter)
AC_DEFINE_UNQUOTED(GETTEXT_PACKAGE, "$GETTEXT_PACKAGE", Gettext package)

dnl ###########################################################################
dnl Files to generate
dnl ###########################################################################

AC_CONFIG_FILES([
Makefile
data/Makefile
po/Makefile.in
src/Makefile
])
AC_OUTPUT

echo ""
echo "Build Configuration for $PACKAGE version $VERSION"
echo ""
echo "  Prefix.....: ${prefix}"
echo "  Gtk version: ${GTK_VER}"
echo ""
